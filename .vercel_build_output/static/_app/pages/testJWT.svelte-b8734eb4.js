import{S as j,i as D,s as G,e as _,t as w,j as k,c as b,a as T,g as O,d as u,l as S,b as U,f as x,F as a,I as J,G as q,P as ee,u as te,h as X,Z as se,v as M,w as P,x as V,Y as le,p as W,n as Y,A as Z,_ as ae,$ as B,a0 as ne,W as re}from"../chunks/vendor-95d272e6.js";import{u as oe,g as ie,l as ce,A as ue}from"../chunks/userContext-d0c85a5e.js";function de(r){let e,t,s=r[0].email+"",l,i,d,o,m=JSON.stringify(r[0])+"",p;return{c(){e=_("h1"),t=w("Hi "),l=w(s),i=w("!"),d=k(),o=_("h2"),p=w(m)},l(n){e=b(n,"H1",{});var c=T(e);t=O(c,"Hi "),l=O(c,s),i=O(c,"!"),c.forEach(u),d=S(n),o=b(n,"H2",{});var h=T(o);p=O(h,m),h.forEach(u)},m(n,c){x(n,e,c),a(e,t),a(e,l),a(e,i),x(n,d,c),x(n,o,c),a(o,p)},p(n,c){c&1&&s!==(s=n[0].email+"")&&X(l,s),c&1&&m!==(m=JSON.stringify(n[0])+"")&&X(p,m)},d(n){n&&u(e),n&&u(d),n&&u(o)}}}function fe(r){let e,t;return{c(){e=_("h1"),t=w("...loading")},l(s){e=b(s,"H1",{});var l=T(e);t=O(l,"...loading"),l.forEach(u)},m(s,l){x(s,e,l),a(e,t)},p:q,d(s){s&&u(e)}}}function me(r){let e,t;return{c(){e=_("h1"),t=w("Please Login")},l(s){e=b(s,"H1",{});var l=T(e);t=O(l,"Please Login"),l.forEach(u)},m(s,l){x(s,e,l),a(e,t)},p:q,d(s){s&&u(e)}}}function he(r){let e,t,s,l,i,d,o,m,p,n;function c(g,$){return g[0]===void 0?me:g[0]===null?fe:de}let h=c(r),f=h(r);return{c(){e=_("div"),t=_("h1"),s=w("INFORMATION"),l=k(),f.c(),i=k(),d=_("div"),o=_("button"),m=w("LOGOUT"),this.h()},l(g){e=b(g,"DIV",{class:!0});var $=T(e);t=b($,"H1",{});var F=T(t);s=O(F,"INFORMATION"),F.forEach(u),l=S($),f.l($),i=S($),d=b($,"DIV",{});var I=T(d);o=b(I,"BUTTON",{});var N=T(o);m=O(N,"LOGOUT"),N.forEach(u),I.forEach(u),$.forEach(u),this.h()},h(){U(e,"class","context-test")},m(g,$){x(g,e,$),a(e,t),a(t,s),a(e,l),f.m(e,null),a(e,i),a(e,d),a(d,o),a(o,m),p||(n=J(o,"click",r[1]),p=!0)},p(g,[$]){h===(h=c(g))&&f?f.p(g,$):(f.d(1),f=h(g),f&&(f.c(),f.m(e,i)))},i:q,o:q,d(g){g&&u(e),f.d(),p=!1,n()}}}function _e(r,e,t){let s;return ee(r,oe,i=>t(0,s=i)),te(()=>{ie()}),[s,()=>{ce()}]}class be extends j{constructor(e){super();D(this,e,_e,he,G,{})}}function ve(r){let e,t,s,l,i,d,o,m,p;return s=new se({props:{fields:r[0]}}),{c(){e=_("div"),t=_("form"),M(s.$$.fragment),l=k(),i=_("button"),d=w("Submit"),this.h()},l(n){e=b(n,"DIV",{class:!0});var c=T(e);t=b(c,"FORM",{});var h=T(t);P(s.$$.fragment,h),l=S(h),i=b(h,"BUTTON",{class:!0,type:!0});var f=T(i);d=O(f,"Submit"),f.forEach(u),h.forEach(u),c.forEach(u),this.h()},h(){U(i,"class","btn btn-secondary btn-lg btn-block"),U(i,"type","submit"),U(e,"class","container")},m(n,c){x(n,e,c),a(e,t),V(s,t,null),a(t,l),a(t,i),a(i,d),o=!0,m||(p=J(t,"submit",le(r[1])),m=!0)},p(n,[c]){const h={};c&1&&(h.fields=n[0]),s.$set(h)},i(n){o||(W(s.$$.fragment,n),o=!0)},o(n){Y(s.$$.fragment,n),o=!1},d(n){n&&u(e),Z(s),m=!1,p()}}}function ge(r,e,t){let{fields:s}=e,{submitFunction:l}=e,i={};const d=async()=>{const o=ae(ne);if(i=o.values,o.valid){B.create({message:"Loading..."});try{await l(i),B.create({message:"Success!"})}catch(m){B.create({message:m.toString()})}}else B.create({message:"Form data invalid! please recheck the data"})};return r.$$set=o=>{"fields"in o&&t(0,s=o.fields),"submitFunction"in o&&t(2,l=o.submitFunction)},[s,d,l]}class pe extends j{constructor(e){super();D(this,e,ge,ve,G,{fields:0,submitFunction:2})}}const $e=(r,e)=>({name:e.name,attributes:{type:r,id:e.id,placeholder:e.placeholder,label:e.label,classes:["form-control"]},type:"input",rules:e.required?["required"]:null}),Ee=r=>({name:r.name,attributes:{id:r.id,label:r.label,placeholder:r.placeholder,rows:r.rows,cols:r.cols,classes:["form-control"]},type:"textarea",rules:r.required?["required"]:null});function Te(r){let e,t,s,l,i,d,o,m,p,n,c,h,f,g,$,F,I,N,y,H,R,A,C,z;return y=new be({}),R=new pe({props:{submitFunction:r[1],fields:[Ee({id:"test",name:"test",label:"a text area",rows:10,cols:1,required:!0,placeholder:"A place holder"}),$e("email",{id:"another_test",name:"testing",label:"a text",required:!1,placeholder:"A place holder"})]}}),{c(){e=k(),t=_("div"),s=_("br"),l=k(),i=_("br"),d=k(),o=_("br"),m=k(),p=_("br"),n=k(),c=_("br"),h=k(),f=_("h1"),g=w("test-jwt"),$=k(),F=_("button"),I=w("GET USERS"),N=k(),M(y.$$.fragment),H=k(),M(R.$$.fragment),this.h()},l(E){re('[data-svelte="svelte-1o49c5d"]',document.head).forEach(u),e=S(E),t=b(E,"DIV",{class:!0});var v=T(t);s=b(v,"BR",{}),l=S(v),i=b(v,"BR",{}),d=S(v),o=b(v,"BR",{}),m=S(v),p=b(v,"BR",{}),n=S(v),c=b(v,"BR",{}),h=S(v),f=b(v,"H1",{});var K=T(f);g=O(K,"test-jwt"),K.forEach(u),$=S(v),F=b(v,"BUTTON",{class:!0});var Q=T(F);I=O(Q,"GET USERS"),Q.forEach(u),N=S(v),P(y.$$.fragment,v),H=S(v),P(R.$$.fragment,v),v.forEach(u),this.h()},h(){document.title="Test JWT",U(F,"class","big-btn svelte-orwkly"),U(t,"class","test-jwt")},m(E,L){x(E,e,L),x(E,t,L),a(t,s),a(t,l),a(t,i),a(t,d),a(t,o),a(t,m),a(t,p),a(t,n),a(t,c),a(t,h),a(t,f),a(f,g),a(t,$),a(t,F),a(F,I),a(t,N),V(y,t,null),a(t,H),V(R,t,null),A=!0,C||(z=J(F,"click",r[0]),C=!0)},p:q,i(E){A||(W(y.$$.fragment,E),W(R.$$.fragment,E),A=!0)},o(E){Y(y.$$.fragment,E),Y(R.$$.fragment,E),A=!1},d(E){E&&u(e),E&&u(t),Z(y),Z(R),C=!1,z()}}}function ke(r){return[async()=>{console.log("clicked");const l=await new ue("/users").getData();console.log(l),l||alert("you dont have permission"),console.log("fetching finish")},s=>{console.log(s)}]}class Oe extends j{constructor(e){super();D(this,e,ke,Te,G,{})}}export{Oe as default};
